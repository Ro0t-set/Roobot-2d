<!doctype html> {% load staticfiles %}{% block content %}
<html>


<head>


  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap.css' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-grid.css' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-grid.min.css' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-grid.min.css.map' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-reboot.css' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-reboot.css.map' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-reboot.min.css' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-reboot.min.css.map' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap.css.map' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap.min.css' %}">-->
  <!--<link rel="stylesheet" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap.min.css.map' %}">-->

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <link rel="stylesheet" href="{% static 'grafici.css' %}">
  <script src="static/Chart.js"></script>
  <script src="static/anime.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>

<!--<body style="background-image: url({% static 'resources/gradientLinear.png' %}); background-repeat: no-repeat;">-->






{% if messages %}
<br>
<center>
  <div class="alert alert-success col-5" role="alert" id="messages">
    <ul class="messages">
      {% for message in messages %} {{ message }} <button class="bottone btn btn-secondary" onclick="messages.style.display='none';">X</button> {% endfor %}
    </ul>
  </div>

  <center>
    {% endif %}


    <div>
      <h1 class="pageTitle">Robot</h1>
    </div>

    <div class="container">
      <div class="col-sm">



<div class="collapse" id="collapseExample">
  <form method="POST" class="post-form">{% csrf_token %}
    <div>
      <div class="row">
        <div class="col-sm">
          {{ nome }}
        </div>
        <div class="col-sm">
        </div>
        <div class="col-sm">
          <button type="submit" name="creazione_mappa" class="bottone btn btn-secondary">Crea</button>
        </div>
      </div>
  </form>

</div>


        </div>
      </div>
<br><br>
      <div class="pagination">
        <span class="step-links">
                {% if listaMappe.has_previous %}
                    <a href="?page={{ listaMappe.previous_page_number }}">Indietro</a>
                {% endif %}

                <span class="current">
                    Page {{ listaMappe.number }} of {{ listaMappe.paginator.num_pages }}.
                </span> {% if listaMappe.has_next %}
        <a href="?page={{ listaMappe.next_page_number }}">Avanti</a> {% endif %}
        </span>
      </div>


   {%for listaMappe in listaMappe%}
      <div>

        <p>
          <br>

</div>



          <form method="POST" class="post-form">{% csrf_token %}
            <button onclick="loading.style.display='block';" type="submit" name="inizza_mappatura" value="{{listaMappe.id}}" class="bottone btn btn-success">inizzia mappaggio</button>
            <button type="submit" name="resetta_mappatura" value="{{listaMappe.id}}" class="bottone btn btn-danger">resetta mappa</button>
            <a class="btn btn-link" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
            Crea Mappa
            </a>
        </p>
    </form>
<br>
Info {{listaMappe}}:
<br><br>
    <form class="col-8 align-items-center justify-content-center">

        <canvas id="{{listaMappe}}" width="100" height="100" ></canvas>


        <script>
          var popCanvas = document.getElementById("{{listaMappe}}");


          Chart.defaults.global.defaultFontSize = 18;
          Chart.defaults.global.elements.point.pointStyle='rect';

          Chart.scaleService.updateScaleDefaults('linear', {
            ticks: {
              min: -100,
              max: 100,
              stepSize: 10
            }
          });




          var popData = {
            datasets: [{
              label: ['Grafo'],


              data: [


                {{xyhtml}}
                {{posizionehtml}}

              ],
              backgroundColor: "#9966FF",
              hoverBackgroundColor: "#000000",
              hoverBorderColor: "#9966FF",
              hoverBorderWidth: 5,
              hoverRadius: 5
            }]


          };






          var bubbleChart = new Chart(popCanvas, {
            type: 'bubble',
            data: popData


          });

        </script>

        <br> {%endfor%}
      </div>

    </div>
</form>

    <br>
    <br>
    <div class="col-sm center">
    <div id="morphing"> <svg width="140" height="140" viewBox="0 0 140 140">
          <g fill="none" fill-rule="evenodd">
            <g fill="currentColor" fill-opacity=".15" transform="translate(0 6)">
              <polygon points="70 0 136.574 48.369 111.145 126.631 28.855 126.631 3.426 48.369"></polygon>
              <polygon points="70 18 119.455 53.931 100.565 112.069 39.435 112.069 20.545 53.931"></polygon>
              <polygon points="70 34.86 101.727 57.911 89.609 95.209 50.391 95.209 38.273 57.911"></polygon>
              <polygon points="70 50.898 84.864 61.697 79.186 79.171 60.814 79.171 55.136 61.697"></polygon>
            </g>
            <polygon class="polymorph" stroke-width="1" stroke="currentColor" points="70 24 119.574 60.369 100.145 117.631 50.855 101.631 3.426 54.369 "></polygon>
          </g>
        </svg> </div></div>

        <script>
        var bouncingBall = anime({
          targets: '.pageTitle',
          translateY: '5vh',
          duration: 1000,
          loop: false,
          direction: 'alternate',
          easing: 'easeInCubic'
        });
        var morphing = anime({
          targets: '#morphing .polymorph',
          points: [
            { value: '70 41 118.574 59.369 111.145 132.631 60.855 84.631 20.426 60.369' },
            { value: '70 6 119.574 60.369 100.145 117.631 39.855 117.631 55.426 68.369' },
            { value: '70 57 136.574 54.369 89.145 100.631 28.855 132.631 38.426 64.369' },
            { value: '70 24 119.574 60.369 100.145 117.631 50.855 101.631 3.426 54.369' }
          ],
          easing: 'easeOutQuad',
          duration: 2000,
          loop: true
        });
        </script>


    </body>


</html>
{% endblock %}
